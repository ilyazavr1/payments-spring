<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Cards</title>


</head>
<body>
<div th:insert="fragments/navBar :: 'header'"></div>


<div class="container">
    <div class="row">
        <div th:each="card : ${cardList}" class="col-sm-4 py-2">
            <div th:if="${card.blocked == false}" class="card h-100 border-primary">

                <div class="card-body">
                    <h3 class="card-title" th:text="${card.number}"></h3>
                    <h3 class="card-title" th:text="${card.name}"> ></h3>
                    <p class="card-text" th:text="${card.money}">></p>
                    <p class="card-text" th:text="${card.blocked}">></p>
                    <div>

                        <form style="float: left; width: 40%"
                              th:action="@{/client/card/{number}/top-up(number=${card.number})}" method="get"
                              th:object="${card}">
                            <!-- <input type="hidden" th:value="*{number}" name="cardNumber">-->

                            <input style="background-color: lightgreen" type="submit" class="btn btn-outline-secondary"
                                   value="top up">
                        </form>

                        <form style="float: right; width: 60%"
                              th:action="@{/client/card/{number}/block(number=${card.number})}" method="get">
                            <input style="margin-left: 70px; background-color: lightcoral" type="submit"
                                   class="btn btn-outline-secondary" value="block">
                        </form>
                    </div>
                </div>
            </div>

            <div th:if="${(card.blocked == true) && (card.underConsideration == false)}"
                 style="background-color: lightcoral" class="card h-100 border-primary">

                <div class="card-body">
                    <h3 class="card-title" th:text="${card.number}"></h3>
                    <h3 class="card-title" th:text="${card.name}"> ></h3>
                    <p class="card-text" th:text="${card.money}">></p>
                    <p class="card-text" th:text="${card.blocked}">></p>
                    <div>

                        <form style="float: right; width: 60%" th:action="@{/client/card/unblock-request}"
                              method="post">
                            <input type="hidden" name="cardNumber" th:value="${card.number}">
                            <input style="margin-left: 70px; background-color: lightcoral" type="submit"
                                   class="btn btn-outline-secondary" value="Unblock">
                        </form>
                    </div>
                </div>
            </div>

            <div th:if="${(card.blocked == true) && (card.underConsideration == true)}"
                 style="background-color: darkgray" class="card h-100 border-primary">

                <div class="card-body">
                    <h3 class="card-title" th:text="${card.number}"></h3>
                    <h3 class="card-title" th:text="${card.name}"> ></h3>
                    <p class="card-text" th:text="${card.money}">></p>
                    <p class="card-text" th:text="${card.blocked}">></p>
                    <div>

                        <td class="badge badge-primary" >Under consideration</td>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>


</body>
</html>,